global:
  postgresql:
    auth:
      database:
      postgresPassword:
postgresql:
  ## remove hashtags image for aarch64
  #image:
  #  registry: ghcr.io
  #  repository: zcube/bitnami-compat/postgresql
  #  tag: 14
  primary:
    initdb:
      scripts:
        schema.sql: |
          create table business_unit_key_result (id bigint not null, business_unit_objective_id bigint, company_key_result_id bigint, "owner_id" bigint, primary key (id));
          create table business_unit_objective (id bigint not null, primary key (id));
          create table company_key_result (id bigint not null, company_objective_id bigint, primary key (id));
          create table company_objective (id bigint not null, primary key (id));
          create table key_result (id bigint generated by default as identity, confidence double precision not null, current double precision not null, goal double precision not null, name varchar(255), primary key (id));
          create table key_result_history (id bigint generated by default as identity, comment varchar(255), old_confidence double precision not null, old_current double precision not null, timestamp timestamp, version integer not null, key_result_id bigint, primary key (id));
          create table objective (id bigint generated by default as identity, name varchar(255), start_date date, primary key (id));
          create table role (id bigint generated by default as identity, name varchar(255), primary key (id));
          create table "user" (id bigint generated by default as identity, password varchar(255), username varchar(255), role_id bigint, primary key (id));
          alter table business_unit_key_result add constraint FK_Business_unit_key_results_Business_unit_Objectives foreign key (business_unit_objective_id) references business_unit_objective;
          alter table business_unit_key_result add constraint FK_Business_unit_key_results_Company_key_results foreign key (company_key_result_id) references company_key_result;
          alter table business_unit_key_result add constraint FK_Business_unit_key_results_Users foreign key ("owner_id") references "user";
          alter table business_unit_key_result add constraint FK_Business_unit_key_results_Key_results foreign key (id) references key_result;
          alter table business_unit_objective add constraint FK_Business_unit_objectives_Objectives foreign key (id) references objective;
          alter table company_key_result add constraint FK_Company_key_results_Company_objectives foreign key (company_objective_id) references company_objective;
          alter table company_key_result add constraint FK_Company_key_results_Key_results foreign key (id) references key_result;
          alter table company_objective add constraint FK_Company_objectives_Objectives foreign key (id) references objective;
          alter table key_result_history add constraint FK_Key_result_historys_Key_results foreign key (key_result_id) references key_result;
          alter table "user" add constraint FK_Users_Roles foreign key (role_id) references role;
